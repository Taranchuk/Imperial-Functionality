<?xml version="1.0" encoding="UTF-8"?>
<Patch>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VFED_WaterMain" or defName="VFED_ImperialUnderfarm"]/costList</xpath>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VFED_WaterMain"]</xpath>
		<value>
			<specialDisplayRadius>10.9</specialDisplayRadius>
			<costList>
				<Steel>250</Steel>
				<ComponentIndustrial>5</ComponentIndustrial>
			</costList>
			<designationCategory>IF_ImperialTech</designationCategory>
			<tickerType>Normal</tickerType>
			<researchPrerequisites>
				<li>IF_ImperialFarmingTechniques</li>
			</researchPrerequisites>
			<comps>
				<li Class="CompProperties_Power">
					<compClass>CompPowerTrader</compClass>
					<basePowerConsumption>400</basePowerConsumption>
					<shortCircuitInRain>false</shortCircuitInRain>
				</li>
				<li Class="CompProperties_Flickable"/>
			</comps>
			<building>
				<deconstructible>true</deconstructible>
			</building>
			<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VFED_ImperialUnderfarm"]</xpath>
		<value>
			<designationCategory>IF_ImperialTech</designationCategory>
			<researchPrerequisites>
				<li>IF_ImperialFarmingTechniques</li>
			</researchPrerequisites>
			<tickerType>Normal</tickerType>
			<costList>
				<Steel>600</Steel>
				<Plasteel>100</Plasteel>
				<ComponentIndustrial>15</ComponentIndustrial>
			</costList>
			<comps>
				<li Class="CompProperties_Power">
					<compClass>CompPowerTrader</compClass>
					<basePowerConsumption>800</basePowerConsumption>
					<shortCircuitInRain>false</shortCircuitInRain>
				</li>
				<li Class="CompProperties_Flickable"/>
				<li>
					<compClass>ImperialFunctionality.CompUnderfarmSpawner</compClass>
				</li>
			</comps>
			<building>
				<deconstructible>true</deconstructible>
			</building>
			<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/RoyalTitleDef[defName="Praetor"]</xpath>
		<value>
			<rewards>
				<Techprint_IF_ImperialFarmingTechniques>1</Techprint_IF_ImperialFarmingTechniques>
			</rewards>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<xpath>Defs/ThingDef[defName="VFED_Techprinter"]/costList</xpath>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VFED_Techprinter"]/building</xpath>
		<value>
			<deconstructible>true</deconstructible>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VFED_Techprinter"]/comps</xpath>
		<value>
			<li>
				<compClass>ImperialFunctionality.CompTechprintSpawner</compClass>
			</li>
			<li Class="CompProperties_Power">
				<compClass>CompPowerTrader</compClass>
				<basePowerConsumption>1250</basePowerConsumption>
				<shortCircuitInRain>false</shortCircuitInRain>
			</li>
			<li Class="CompProperties_Flickable"/>
			<li Class="CompProperties_Refuelable">
				<fuelLabel>Techie disc stack</fuelLabel>
				<fuelGizmoLabel>Techie disc stacks</fuelGizmoLabel>
				<outOfFuelMessage>No techie disc stacks</outOfFuelMessage>
				<fuelFilter>
					<thingDefs>
						<li>VFED_TechiteDiscStack</li>
					</thingDefs>
				</fuelFilter>
				<fuelCapacity>1</fuelCapacity>
				<fuelMultiplier>1</fuelMultiplier>
				<initialFuelPercent>0</initialFuelPercent>
				<autoRefuelPercent>0.5</autoRefuelPercent>
				<showFuelGizmo>true</showFuelGizmo>
				<minimumFueledThreshold>1</minimumFueledThreshold>
				<factorByDifficulty>true</factorByDifficulty>
				<consumeFuelOnlyWhenUsed>true</consumeFuelOnlyWhenUsed>
				<fuelIconPath>Structures/Misc/TechiteDiscStack</fuelIconPath>
			</li>
			<li Class="VFED.CompProperties_BoxRefuel">
				<refuelWith>VFED_TechiteDiscStack</refuelWith>
				<mustUseBoxes>true</mustUseBoxes>
			</li>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VFED_Techprinter"]</xpath>
		<value>
			<designationCategory>IF_ImperialTech</designationCategory>
			<researchPrerequisites>
				<li>IF_ImperialTechiteTechniques</li>
			</researchPrerequisites>
			<costList>
				<Steel>200</Steel>
				<Plasteel>200</Plasteel>
				<ComponentIndustrial>5</ComponentIndustrial>
				<ComponentSpacer>5</ComponentSpacer>
			</costList>
			<leaveResourcesWhenKilled>true</leaveResourcesWhenKilled>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="VFED_TechiteDiscStack"]</xpath>
		<value>
			<minifiedDef>MinifiedThing</minifiedDef>
			<thingCategories>
				<li>BuildingsMisc</li>
			</thingCategories>
			<building>
				<deconstructible>true</deconstructible>
			</building>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationAdd">
		<xpath>/Defs/RoyalTitleDef[defName="Duke"]</xpath>
		<value>
			<rewards>
				<Techprint_IF_ImperialTechiteTechniques>1</Techprint_IF_ImperialTechiteTechniques>
			</rewards>
		</value>
	</Operation>
	 
</Patch>